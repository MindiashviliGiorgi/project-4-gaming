<div class="market-page-main">
  <div class="market-page-nav">
    <div class="nav-left">
      <div class="search">
        <input type="search" placeholder="Search" 
        [(ngModel)]="searchValue"
        (input)="searchItem()">
      </div>
      <div class="search-by-price">
        <select name="price"
        [(ngModel)]="searchPriceValue"
        (input)="searchItemPrice()"
        >
          <option value="0">Any price</option>
          <option value="80">More than 80$</option>
          <option value="60">More than 60$</option>
          <option value="40">More than 40$</option>
          <option value="20">More than 20$</option>
        </select>
      </div>
      <div class="search-by-year">
        <select name="year" 
        [(ngModel)]="searchYearValue"
        (input)="searchItemYear()"
        >
          <option value="">Any year</option>
          <option value="2023">2023</option>
          <option value="2022">2022</option>
          <option value="2021">2021</option>
          <option value="2020">2020</option>
          <option value="2000">Under 2019</option>
        </select>
      </div>
    </div>
    <div class="nav-right">
      <div class="grid-choice">
        <img [src]="'/assets/images/clmn.png'">
        <img class="imgx" [src]="'/assets/images/clmn3.png'">
      </div>
    </div>
  </div>
  <div class="market-page-containers">
    <ng-container  *ngFor="let singleProduct of product">
      <ng-container *ngIf="searchYearValue === '' || singleProduct.year.toLowerCase().includes(searchYearValue)">
        <ng-container  *ngIf="searchValue === '' || singleProduct.title.toLowerCase().includes(searchValue)">
          <ng-container *ngIf="searchPriceValue < singleProduct.price">
            <div class="container">
              <div class="image">
                <img [src]="singleProduct.image">
              </div>
              <div class="title">
                <h3>{{ singleProduct.title }}</h3>
              </div>
              <div class="year-price">
                <p>Year : {{ singleProduct.year }}</p>
                <p>Price : {{ singleProduct.price }}$</p>
              </div>
              <div class="add-to-cart">
                <button>
                  <ng-container *ngIf="isAuthenticated()">
                    Add to cart
                  </ng-container>
                  <ng-container *ngIf="!isAuthenticated()">
                    Login needed
                  </ng-container>
                </button>
              </div>
            </div>
          </ng-container>
        </ng-container>
      </ng-container>
    </ng-container>
  </div>
</div>
